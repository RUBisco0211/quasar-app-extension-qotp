import{u as qt,b as cl,e as dl,d as fl,i as Qe,j as Ue,r as Pt,k as Jl,f as vl,a as ml,c as Zl,g as Dt,h as en,l as tn}from"./use-key-composition.40f37218.js";import{x as ue,c as m,h as V,g as te,G as ie,r as L,_ as rt,$ as ln,J as We,t as Z,a0 as Wt,w as X,o as Ne,y as ce,a1 as nn,S as oe,a2 as jt,a as on,z as un,a3 as an,H as Vt,L as ge,a4 as rn,K as pt,a5 as Kt,a6 as sn,R as hl,E as cn,a7 as dn,I as fn,C as vn,a8 as mn,a9 as Re,A as Le,v as hn,B as gn,aa as Ae}from"./index.9d5eaa0e.js";import{u as gl,d as bl,e as bn,Q as je,f as Sn,b as yn,h as Xe,c as Sl}from"./QSpinner.d48ca543.js";import{R as wn,u as xn,a as pn,v as kn,g as mt,b as yl,c as Cn,d as Nt,e as wl}from"./use-router-link.91adafd4.js";var qn=ue({name:"QField",inheritAttrs:!1,props:{...qt,tag:{type:String,default:"label"}},emits:cl,setup(){return dl(fl({tagProp:!0}))}});const Vn={xs:8,sm:10,md:14,lg:20,xl:24};var En=ue({name:"QChip",props:{...Qe,...gl,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:l,emit:t}){const{proxy:{$q:o}}=te(),u=Ue(e,o),i=bl(e,Vn),r=m(()=>e.selected===!0||e.icon!==void 0),f=m(()=>e.selected===!0?e.iconSelected||o.iconSet.chip.selected:e.icon),c=m(()=>e.iconRemove||o.iconSet.chip.remove),v=m(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),s=m(()=>{const C=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(C?` text-${C} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(v.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(u.value===!0?" q-chip--dark q-dark":"")}),x=m(()=>{const C=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},F={...C,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||o.lang.label.remove};return{chip:C,remove:F}});function p(C){C.keyCode===13&&d(C)}function d(C){e.disable||(t("update:selected",!e.selected),t("click",C))}function g(C){(C.keyCode===void 0||C.keyCode===13)&&(ie(C),e.disable===!1&&(t("update:modelValue",!1),t("remove")))}function M(){const C=[];v.value===!0&&C.push(V("div",{class:"q-focus-helper"})),r.value===!0&&C.push(V(je,{class:"q-chip__icon q-chip__icon--left",name:f.value}));const F=e.label!==void 0?[V("div",{class:"ellipsis"},[e.label])]:void 0;return C.push(V("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Sn(l.default,F))),e.iconRight&&C.push(V(je,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&C.push(V(je,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:c.value,...x.value.remove,onClick:g,onKeyup:g})),C}return()=>{if(e.modelValue===!1)return;const C={class:s.value,style:i.value};return v.value===!0&&Object.assign(C,x.value.chip,{onClick:d,onKeyup:p}),bn("div",C,M(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[wn,e.ripple]])}}}),Tn=ue({name:"QItem",props:{...Qe,...xn,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:l,emit:t}){const{proxy:{$q:o}}=te(),u=Ue(e,o),{hasLink:i,linkAttrs:r,linkClass:f,linkTag:c,navigateOnClick:v}=pn(),s=L(null),x=L(null),p=m(()=>e.clickable===!0||i.value===!0||e.tag==="label"),d=m(()=>e.disable!==!0&&p.value===!0),g=m(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(u.value===!0?" q-item--dark":"")+(i.value===!0&&e.active===null?f.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(d.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),M=m(()=>{if(e.insetLevel===void 0)return null;const k=o.lang.rtl===!0?"Right":"Left";return{["padding"+k]:16+e.insetLevel*56+"px"}});function C(k){d.value===!0&&(x.value!==null&&(k.qKeyEvent!==!0&&document.activeElement===s.value?x.value.focus():document.activeElement===x.value&&s.value.focus()),v(k))}function F(k){if(d.value===!0&&rt(k,[13,32])===!0){ie(k),k.qKeyEvent=!0;const z=new MouseEvent("click",k);z.qKeyEvent=!0,s.value.dispatchEvent(z)}t("keyup",k)}function T(){const k=yn(l.default,[]);return d.value===!0&&k.unshift(V("div",{class:"q-focus-helper",tabindex:-1,ref:x})),k}return()=>{const k={ref:s,class:g.value,style:M.value,role:"listitem",onClick:C,onKeyup:F};return d.value===!0?(k.tabindex=e.tabindex||"0",Object.assign(k,r.value)):p.value===!0&&(k["aria-disabled"]="true"),V(c.value,k,T())}}}),_n=ue({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:l}){const t=m(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>V("div",{class:t.value},Xe(l.default))}}),zn=ue({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:l}){const t=m(()=>parseInt(e.lines,10)),o=m(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(t.value===1?" ellipsis":"")),u=m(()=>e.lines!==void 0&&t.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":t.value}:null);return()=>V("div",{style:u.value,class:o.value},Xe(l.default))}});function Bn(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),ln.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const Ln={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},An={...Ln,contextMenu:Boolean};function Hn({showing:e,avoidEmit:l,configureAnchorEl:t}){const{props:o,proxy:u,emit:i}=te(),r=L(null);let f=null;function c(d){return r.value===null?!1:d===void 0||d.touches===void 0||d.touches.length<=1}const v={};t===void 0&&(Object.assign(v,{hide(d){u.hide(d)},toggle(d){u.toggle(d),d.qAnchorHandled=!0},toggleKey(d){rt(d,13)===!0&&v.toggle(d)},contextClick(d){u.hide(d),We(d),Z(()=>{u.show(d),d.qAnchorHandled=!0})},prevent:We,mobileTouch(d){if(v.mobileCleanup(d),c(d)!==!0)return;u.hide(d),r.value.classList.add("non-selectable");const g=d.target;Wt(v,"anchor",[[g,"touchmove","mobileCleanup","passive"],[g,"touchend","mobileCleanup","passive"],[g,"touchcancel","mobileCleanup","passive"],[r.value,"contextmenu","prevent","notPassive"]]),f=setTimeout(()=>{f=null,u.show(d),d.qAnchorHandled=!0},300)},mobileCleanup(d){r.value.classList.remove("non-selectable"),f!==null&&(clearTimeout(f),f=null),e.value===!0&&d!==void 0&&Bn()}}),t=function(d=o.contextMenu){if(o.noParentEvent===!0||r.value===null)return;let g;d===!0?u.$q.platform.is.mobile===!0?g=[[r.value,"touchstart","mobileTouch","passive"]]:g=[[r.value,"mousedown","hide","passive"],[r.value,"contextmenu","contextClick","notPassive"]]:g=[[r.value,"click","toggle","passive"],[r.value,"keyup","toggleKey","passive"]],Wt(v,"anchor",g)});function s(){nn(v,"anchor")}function x(d){for(r.value=d;r.value.classList.contains("q-anchor--skip");)r.value=r.value.parentNode;t()}function p(){if(o.target===!1||o.target===""||u.$el.parentNode===null)r.value=null;else if(o.target===!0)x(u.$el.parentNode);else{let d=o.target;if(typeof o.target=="string")try{d=document.querySelector(o.target)}catch{d=void 0}d!=null?(r.value=d.$el||d,t()):(r.value=null,console.error(`Anchor: target "${o.target}" not found`))}}return X(()=>o.contextMenu,d=>{r.value!==null&&(s(),t(d))}),X(()=>o.target,()=>{r.value!==null&&s(),p()}),X(()=>o.noParentEvent,d=>{r.value!==null&&(d===!0?s():t())}),Ne(()=>{p(),l!==!0&&o.modelValue===!0&&r.value===null&&i("update:modelValue",!1)}),ce(()=>{f!==null&&clearTimeout(f),s()}),{anchorEl:r,canShow:c,anchorEvents:v}}function Mn(e,l){const t=L(null);let o;function u(f,c){const v=`${c!==void 0?"add":"remove"}EventListener`,s=c!==void 0?c:o;f!==window&&f[v]("scroll",s,oe.passive),window[v]("scroll",s,oe.passive),o=c}function i(){t.value!==null&&(u(t.value),t.value=null)}const r=X(()=>e.noParentEvent,()=>{t.value!==null&&(i(),l())});return ce(r),{localScrollTarget:t,unconfigureScrollTarget:i,changeScrollEvent:u}}const xl={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},pl=["beforeShow","show","beforeHide","hide"];function kl({showing:e,canShow:l,hideOnRouteChange:t,handleShow:o,handleHide:u,processOnMount:i}){const r=te(),{props:f,emit:c,proxy:v}=r;let s;function x(T){e.value===!0?g(T):p(T)}function p(T){if(f.disable===!0||T!==void 0&&T.qAnchorHandled===!0||l!==void 0&&l(T)!==!0)return;const k=f["onUpdate:modelValue"]!==void 0;k===!0&&(c("update:modelValue",!0),s=T,Z(()=>{s===T&&(s=void 0)})),(f.modelValue===null||k===!1)&&d(T)}function d(T){e.value!==!0&&(e.value=!0,c("beforeShow",T),o!==void 0?o(T):c("show",T))}function g(T){if(f.disable===!0)return;const k=f["onUpdate:modelValue"]!==void 0;k===!0&&(c("update:modelValue",!1),s=T,Z(()=>{s===T&&(s=void 0)})),(f.modelValue===null||k===!1)&&M(T)}function M(T){e.value!==!1&&(e.value=!1,c("beforeHide",T),u!==void 0?u(T):c("hide",T))}function C(T){f.disable===!0&&T===!0?f["onUpdate:modelValue"]!==void 0&&c("update:modelValue",!1):T===!0!==e.value&&(T===!0?d:M)(s)}X(()=>f.modelValue,C),t!==void 0&&kn(r)===!0&&X(()=>v.$route.fullPath,()=>{t.value===!0&&e.value===!0&&g()}),i===!0&&Ne(()=>{C(f.modelValue)});const F={show:p,hide:g,toggle:x};return Object.assign(v,F),F}let In=1,Fn=document.body;function On(e,l){const t=document.createElement("div");if(t.id=l!==void 0?`q-portal--${l}--${In++}`:e,jt.globalNodes!==void 0){const o=jt.globalNodes.class;o!==void 0&&(t.className=o)}return Fn.appendChild(t),t}function Rn(e){e.remove()}const Ke=[];function $n(e,l){do{if(e.$options.name==="QMenu"){if(e.hide(l),e.$props.separateClosePopup===!0)return mt(e)}else if(e.__qPortal===!0){const t=mt(e);return t!==void 0&&t.$options.name==="QPopupProxy"?(e.hide(l),t):e}e=mt(e)}while(e!=null)}const Pn=ue({name:"QPortal",setup(e,{slots:l}){return()=>l.default()}});function Dn(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function Cl(e,l,t,o){const u=L(!1),i=L(!1);let r=null;const f={},c=o==="dialog"&&Dn(e);function v(x){if(x===!0){Pt(f),i.value=!0;return}i.value=!1,u.value===!1&&(c===!1&&r===null&&(r=On(!1,o)),u.value=!0,Ke.push(e.proxy),Jl(f))}function s(x){if(i.value=!1,x!==!0)return;Pt(f),u.value=!1;const p=Ke.indexOf(e.proxy);p!==-1&&Ke.splice(p,1),r!==null&&(Rn(r),r=null)}return on(()=>{s(!0)}),e.proxy.__qPortal=!0,un(e.proxy,"contentEl",()=>l.value),{showPortal:v,hidePortal:s,portalIsActive:u,portalIsAccessible:i,renderPortal:()=>c===!0?t():u.value===!0?[V(an,{to:r},V(Pn,t))]:void 0}}const ql={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function Vl(e,l=()=>{},t=()=>{}){return{transitionProps:m(()=>{const o=`q-transition--${e.transitionShow||l()}`,u=`q-transition--${e.transitionHide||t()}`;return{appear:!0,enterFromClass:`${o}-enter-from`,enterActiveClass:`${o}-enter-active`,enterToClass:`${o}-enter-to`,leaveFromClass:`${u}-leave-from`,leaveActiveClass:`${u}-leave-active`,leaveToClass:`${u}-leave-to`}}),transitionStyle:m(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function El(){let e;const l=te();function t(){e=void 0}return Vt(t),ce(t),{removeTick:t,registerTick(o){e=o,Z(()=>{e===o&&(yl(l)===!1&&e(),e=void 0)})}}}function Tl(){let e=null;const l=te();function t(){e!==null&&(clearTimeout(e),e=null)}return Vt(t),ce(t),{removeTimeout:t,registerTimeout(o,u){t(),yl(l)===!1&&(e=setTimeout(()=>{e=null,o()},u))}}}const Wn=[Element,String],jn=[null,document,document.body,document.scrollingElement,document.documentElement];function Kn(e,l){let t=Cn(l);if(t===void 0){if(e==null)return window;t=e.closest(".scroll,.scroll-y,.overflow-auto")}return jn.includes(t)?window:t}function Nn(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function Qn(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}let tt;function Un(){if(tt!==void 0)return tt;const e=document.createElement("p"),l=document.createElement("div");Nt(e,{width:"100%",height:"200px"}),Nt(l,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),l.appendChild(e),document.body.appendChild(l);const t=e.offsetWidth;l.style.overflow="scroll";let o=e.offsetWidth;return t===o&&(o=l.clientWidth),l.remove(),tt=t-o,tt}function Xn(e,l=!0){return!e||e.nodeType!==Node.ELEMENT_NODE?!1:l?e.scrollHeight>e.clientHeight&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-y"])):e.scrollWidth>e.clientWidth&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-x"]))}const pe=[];let Me;function Yn(e){Me=e.keyCode===27}function Gn(){Me===!0&&(Me=!1)}function Jn(e){Me===!0&&(Me=!1,rt(e,27)===!0&&pe[pe.length-1](e))}function _l(e){window[e]("keydown",Yn),window[e]("blur",Gn),window[e]("keyup",Jn),Me=!1}function zl(e){ge.is.desktop===!0&&(pe.push(e),pe.length===1&&_l("addEventListener"))}function ot(e){const l=pe.indexOf(e);l!==-1&&(pe.splice(l,1),pe.length===0&&_l("removeEventListener"))}const ke=[];function Bl(e){ke[ke.length-1](e)}function Ll(e){ge.is.desktop===!0&&(ke.push(e),ke.length===1&&document.body.addEventListener("focusin",Bl))}function kt(e){const l=ke.indexOf(e);l!==-1&&(ke.splice(l,1),ke.length===0&&document.body.removeEventListener("focusin",Bl))}const{notPassiveCapture:it}=oe,Ce=[];function ut(e){const l=e.target;if(l===void 0||l.nodeType===8||l.classList.contains("no-pointer-events")===!0)return;let t=Ke.length-1;for(;t>=0;){const o=Ke[t].$;if(o.type.name==="QTooltip"){t--;continue}if(o.type.name!=="QDialog")break;if(o.props.seamless!==!0)return;t--}for(let o=Ce.length-1;o>=0;o--){const u=Ce[o];if((u.anchorEl.value===null||u.anchorEl.value.contains(l)===!1)&&(l===document.body||u.innerRef.value!==null&&u.innerRef.value.contains(l)===!1))e.qClickOutside=!0,u.onClickOutside(e);else return}}function Zn(e){Ce.push(e),Ce.length===1&&(document.addEventListener("mousedown",ut,it),document.addEventListener("touchstart",ut,it))}function Qt(e){const l=Ce.findIndex(t=>t===e);l!==-1&&(Ce.splice(l,1),Ce.length===0&&(document.removeEventListener("mousedown",ut,it),document.removeEventListener("touchstart",ut,it)))}let Ut,Xt;function Yt(e){const l=e.split(" ");return l.length!==2?!1:["top","center","bottom"].includes(l[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(l[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function eo(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const Ct={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{Ct[`${e}#ltr`]=e,Ct[`${e}#rtl`]=e});function Gt(e,l){const t=e.split(" ");return{vertical:t[0],horizontal:Ct[`${t[1]}#${l===!0?"rtl":"ltr"}`]}}function to(e,l){let{top:t,left:o,right:u,bottom:i,width:r,height:f}=e.getBoundingClientRect();return l!==void 0&&(t-=l[1],o-=l[0],i+=l[1],u+=l[0],r+=l[0],f+=l[1]),{top:t,bottom:i,height:f,left:o,right:u,width:r,middle:o+(u-o)/2,center:t+(i-t)/2}}function lo(e,l,t){let{top:o,left:u}=e.getBoundingClientRect();return o+=l.top,u+=l.left,t!==void 0&&(o+=t[1],u+=t[0]),{top:o,bottom:o+1,height:1,left:u,right:u+1,width:1,middle:u,center:o}}function no(e,l){return{top:0,center:l/2,bottom:l,left:0,middle:e/2,right:e}}function Jt(e,l,t,o){return{top:e[t.vertical]-l[o.vertical],left:e[t.horizontal]-l[o.horizontal]}}function Al(e,l=0){if(e.targetEl===null||e.anchorEl===null||l>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{Al(e,l+1)},10);return}const{targetEl:t,offset:o,anchorEl:u,anchorOrigin:i,selfOrigin:r,absoluteOffset:f,fit:c,cover:v,maxHeight:s,maxWidth:x}=e;if(ge.is.ios===!0&&window.visualViewport!==void 0){const A=document.body.style,{offsetLeft:$,offsetTop:D}=window.visualViewport;$!==Ut&&(A.setProperty("--q-pe-left",$+"px"),Ut=$),D!==Xt&&(A.setProperty("--q-pe-top",D+"px"),Xt=D)}const{scrollLeft:p,scrollTop:d}=t,g=f===void 0?to(u,v===!0?[0,0]:o):lo(u,f,o);Object.assign(t.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:x,maxHeight:s,visibility:"visible"});const{offsetWidth:M,offsetHeight:C}=t,{elWidth:F,elHeight:T}=c===!0||v===!0?{elWidth:Math.max(g.width,M),elHeight:v===!0?Math.max(g.height,C):C}:{elWidth:M,elHeight:C};let k={maxWidth:x,maxHeight:s};(c===!0||v===!0)&&(k.minWidth=g.width+"px",v===!0&&(k.minHeight=g.height+"px")),Object.assign(t.style,k);const z=no(F,T);let O=Jt(g,z,i,r);if(f===void 0||o===void 0)ht(O,g,z,i,r);else{const{top:A,left:$}=O;ht(O,g,z,i,r);let D=!1;if(O.top!==A){D=!0;const Q=2*o[1];g.center=g.top-=Q,g.bottom-=Q+2}if(O.left!==$){D=!0;const Q=2*o[0];g.middle=g.left-=Q,g.right-=Q+2}D===!0&&(O=Jt(g,z,i,r),ht(O,g,z,i,r))}k={top:O.top+"px",left:O.left+"px"},O.maxHeight!==void 0&&(k.maxHeight=O.maxHeight+"px",g.height>O.maxHeight&&(k.minHeight=k.maxHeight)),O.maxWidth!==void 0&&(k.maxWidth=O.maxWidth+"px",g.width>O.maxWidth&&(k.minWidth=k.maxWidth)),Object.assign(t.style,k),t.scrollTop!==d&&(t.scrollTop=d),t.scrollLeft!==p&&(t.scrollLeft=p)}function ht(e,l,t,o,u){const i=t.bottom,r=t.right,f=Un(),c=window.innerHeight-f,v=document.body.clientWidth;if(e.top<0||e.top+i>c)if(u.vertical==="center")e.top=l[o.vertical]>c/2?Math.max(0,c-i):0,e.maxHeight=Math.min(i,c);else if(l[o.vertical]>c/2){const s=Math.min(c,o.vertical==="center"?l.center:o.vertical===u.vertical?l.bottom:l.top);e.maxHeight=Math.min(i,s),e.top=Math.max(0,s-i)}else e.top=Math.max(0,o.vertical==="center"?l.center:o.vertical===u.vertical?l.top:l.bottom),e.maxHeight=Math.min(i,c-e.top);if(e.left<0||e.left+r>v)if(e.maxWidth=Math.min(r,v),u.horizontal==="middle")e.left=l[o.horizontal]>v/2?Math.max(0,v-r):0;else if(l[o.horizontal]>v/2){const s=Math.min(v,o.horizontal==="middle"?l.middle:o.horizontal===u.horizontal?l.right:l.left);e.maxWidth=Math.min(r,s),e.left=Math.max(0,s-e.maxWidth)}else e.left=Math.max(0,o.horizontal==="middle"?l.middle:o.horizontal===u.horizontal?l.left:l.right),e.maxWidth=Math.min(r,v-e.left)}var oo=ue({name:"QMenu",inheritAttrs:!1,props:{...An,...xl,...Qe,...ql,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Yt},self:{type:String,validator:Yt},offset:{type:Array,validator:eo},scrollTarget:Wn,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...pl,"click","escapeKey"],setup(e,{slots:l,emit:t,attrs:o}){let u=null,i,r,f;const c=te(),{proxy:v}=c,{$q:s}=v,x=L(null),p=L(!1),d=m(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),g=Ue(e,s),{registerTick:M,removeTick:C}=El(),{registerTimeout:F}=Tl(),{transitionProps:T,transitionStyle:k}=Vl(e),{localScrollTarget:z,changeScrollEvent:O,unconfigureScrollTarget:A}=Mn(e,_),{anchorEl:$,canShow:D}=Hn({showing:p}),{hide:Q}=kl({showing:p,canShow:D,handleShow:fe,handleHide:a,hideOnRouteChange:d,processOnMount:!0}),{showPortal:Y,hidePortal:ae,renderPortal:E}=Cl(c,x,I,"menu"),N={anchorEl:$,innerRef:x,onClickOutside(h){if(e.persistent!==!0&&p.value===!0)return Q(h),(h.type==="touchstart"||h.target.classList.contains("q-dialog__backdrop"))&&ie(h),!0}},le=m(()=>Gt(e.anchor||(e.cover===!0?"center middle":"bottom start"),s.lang.rtl)),de=m(()=>e.cover===!0?le.value:Gt(e.self||"top start",s.lang.rtl)),G=m(()=>(e.square===!0?" q-menu--square":"")+(g.value===!0?" q-menu--dark q-dark":"")),re=m(()=>e.autoClose===!0?{onClick:H}:{}),ne=m(()=>p.value===!0&&e.persistent!==!0);X(ne,h=>{h===!0?(zl(S),Zn(N)):(ot(S),Qt(N))});function J(){vl(()=>{let h=x.value;h&&h.contains(document.activeElement)!==!0&&(h=h.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||h.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||h.querySelector("[autofocus], [data-autofocus]")||h,h.focus({preventScroll:!0}))})}function fe(h){if(u=e.noRefocus===!1?document.activeElement:null,Ll(W),Y(),_(),i=void 0,h!==void 0&&(e.touchPosition||e.contextMenu)){const j=rn(h);if(j.left!==void 0){const{top:ve,left:qe}=$.value.getBoundingClientRect();i={left:j.left-qe,top:j.top-ve}}}r===void 0&&(r=X(()=>s.screen.width+"|"+s.screen.height+"|"+e.self+"|"+e.anchor+"|"+s.lang.rtl,q)),e.noFocus!==!0&&document.activeElement.blur(),M(()=>{q(),e.noFocus!==!0&&J()}),F(()=>{s.platform.is.ios===!0&&(f=e.autoClose,x.value.click()),q(),Y(!0),t("show",h)},e.transitionDuration)}function a(h){C(),ae(),b(!0),u!==null&&(h===void 0||h.qClickOutside!==!0)&&(((h&&h.type.indexOf("key")===0?u.closest('[tabindex]:not([tabindex^="-"])'):void 0)||u).focus(),u=null),F(()=>{ae(!0),t("hide",h)},e.transitionDuration)}function b(h){i=void 0,r!==void 0&&(r(),r=void 0),(h===!0||p.value===!0)&&(kt(W),A(),Qt(N),ot(S)),h!==!0&&(u=null)}function _(){($.value!==null||e.scrollTarget!==void 0)&&(z.value=Kn($.value,e.scrollTarget),O(z.value,q))}function H(h){f!==!0?($n(v,h),t("click",h)):f=!1}function W(h){ne.value===!0&&e.noFocus!==!0&&wl(x.value,h.target)!==!0&&J()}function S(h){t("escapeKey"),Q(h)}function q(){Al({targetEl:x.value,offset:e.offset,anchorEl:$.value,anchorOrigin:le.value,selfOrigin:de.value,absoluteOffset:i,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function I(){return V(pt,T.value,()=>p.value===!0?V("div",{role:"menu",...o,ref:x,tabindex:-1,class:["q-menu q-position-engine scroll"+G.value,o.class],style:[o.style,k.value],...re.value},Xe(l.default)):null)}return ce(b),Object.assign(v,{focus:J,updatePosition:q}),E}});function io(e,l,t){let o;function u(){o!==void 0&&(Kt.remove(o),o=void 0)}return ce(()=>{e.value===!0&&u()}),{removeFromHistory:u,addToHistory(){o={condition:()=>t.value===!0,handler:l},Kt.add(o)}}}let $e=0,gt,bt,De,St=!1,Zt,el,tl,xe=null;function uo(e){ao(e)&&ie(e)}function ao(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const l=sn(e),t=e.shiftKey&&!e.deltaX,o=!t&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),u=t||o?e.deltaY:e.deltaX;for(let i=0;i<l.length;i++){const r=l[i];if(Xn(r,o))return o?u<0&&r.scrollTop===0?!0:u>0&&r.scrollTop+r.clientHeight===r.scrollHeight:u<0&&r.scrollLeft===0?!0:u>0&&r.scrollLeft+r.clientWidth===r.scrollWidth}return!0}function ll(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function lt(e){St!==!0&&(St=!0,requestAnimationFrame(()=>{St=!1;const{height:l}=e.target,{clientHeight:t,scrollTop:o}=document.scrollingElement;(De===void 0||l!==window.innerHeight)&&(De=t-l,document.scrollingElement.scrollTop=o),o>De&&(document.scrollingElement.scrollTop-=Math.ceil((o-De)/8))}))}function nl(e){const l=document.body,t=window.visualViewport!==void 0;if(e==="add"){const{overflowY:o,overflowX:u}=window.getComputedStyle(l);gt=Qn(window),bt=Nn(window),Zt=l.style.left,el=l.style.top,tl=window.location.href,l.style.left=`-${gt}px`,l.style.top=`-${bt}px`,u!=="hidden"&&(u==="scroll"||l.scrollWidth>window.innerWidth)&&l.classList.add("q-body--force-scrollbar-x"),o!=="hidden"&&(o==="scroll"||l.scrollHeight>window.innerHeight)&&l.classList.add("q-body--force-scrollbar-y"),l.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,ge.is.ios===!0&&(t===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",lt,oe.passiveCapture),window.visualViewport.addEventListener("scroll",lt,oe.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",ll,oe.passiveCapture))}ge.is.desktop===!0&&ge.is.mac===!0&&window[`${e}EventListener`]("wheel",uo,oe.notPassive),e==="remove"&&(ge.is.ios===!0&&(t===!0?(window.visualViewport.removeEventListener("resize",lt,oe.passiveCapture),window.visualViewport.removeEventListener("scroll",lt,oe.passiveCapture)):window.removeEventListener("scroll",ll,oe.passiveCapture)),l.classList.remove("q-body--prevent-scroll"),l.classList.remove("q-body--force-scrollbar-x"),l.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,l.style.left=Zt,l.style.top=el,window.location.href===tl&&window.scrollTo(gt,bt),De=void 0)}function ro(e){let l="add";if(e===!0){if($e++,xe!==null){clearTimeout(xe),xe=null;return}if($e>1)return}else{if($e===0||($e--,$e>0))return;if(l="remove",ge.is.ios===!0&&ge.is.nativeMobile===!0){xe!==null&&clearTimeout(xe),xe=setTimeout(()=>{nl(l),xe=null},100);return}}nl(l)}function so(){let e;return{preventBodyScroll(l){l!==e&&(e!==void 0||l===!0)&&(e=l,ro(l))}}}let nt=0;const co={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},ol={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var fo=ue({name:"QDialog",inheritAttrs:!1,props:{...xl,...ql,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:e=>["standard","top","bottom","left","right"].includes(e)}},emits:[...pl,"shake","click","escapeKey"],setup(e,{slots:l,emit:t,attrs:o}){const u=te(),i=L(null),r=L(!1),f=L(!1);let c=null,v=null,s,x;const p=m(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:d}=so(),{registerTimeout:g}=Tl(),{registerTick:M,removeTick:C}=El(),{transitionProps:F,transitionStyle:T}=Vl(e,()=>ol[e.position][0],()=>ol[e.position][1]),k=m(()=>T.value+(e.backdropFilter!==void 0?`;backdrop-filter:${e.backdropFilter};-webkit-backdrop-filter:${e.backdropFilter}`:"")),{showPortal:z,hidePortal:O,portalIsAccessible:A,renderPortal:$}=Cl(u,i,W,"dialog"),{hide:D}=kl({showing:r,hideOnRouteChange:p,handleShow:de,handleHide:G,processOnMount:!0}),{addToHistory:Q,removeFromHistory:Y}=io(r,D,p),ae=m(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${co[e.position]}`+(f.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),E=m(()=>r.value===!0&&e.seamless!==!0),N=m(()=>e.autoClose===!0?{onClick:b}:{}),le=m(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${E.value===!0?"modal":"seamless"}`,o.class]);X(()=>e.maximized,S=>{r.value===!0&&a(S)}),X(E,S=>{d(S),S===!0?(Ll(H),zl(J)):(kt(H),ot(J))});function de(S){Q(),v=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,a(e.maximized),z(),f.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),M(re)):C(),g(()=>{if(u.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:q,bottom:I}=document.activeElement.getBoundingClientRect(),{innerHeight:h}=window,j=window.visualViewport!==void 0?window.visualViewport.height:h;q>0&&I>j/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-j,I>=h?1/0:Math.ceil(document.scrollingElement.scrollTop+I-j/2))),document.activeElement.scrollIntoView()}x=!0,i.value.click(),x=!1}z(!0),f.value=!1,t("show",S)},e.transitionDuration)}function G(S){C(),Y(),fe(!0),f.value=!0,O(),v!==null&&(((S&&S.type.indexOf("key")===0?v.closest('[tabindex]:not([tabindex^="-"])'):void 0)||v).focus(),v=null),g(()=>{O(!0),f.value=!1,t("hide",S)},e.transitionDuration)}function re(S){vl(()=>{let q=i.value;if(q!==null){if(S!==void 0){const I=q.querySelector(S);if(I!==null){I.focus({preventScroll:!0});return}}q.contains(document.activeElement)!==!0&&(q=q.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||q.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||q.querySelector("[autofocus], [data-autofocus]")||q,q.focus({preventScroll:!0}))}})}function ne(S){S&&typeof S.focus=="function"?S.focus({preventScroll:!0}):re(),t("shake");const q=i.value;q!==null&&(q.classList.remove("q-animate--scale"),q.classList.add("q-animate--scale"),c!==null&&clearTimeout(c),c=setTimeout(()=>{c=null,i.value!==null&&(q.classList.remove("q-animate--scale"),re())},170))}function J(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&ne():(t("escapeKey"),D()))}function fe(S){c!==null&&(clearTimeout(c),c=null),(S===!0||r.value===!0)&&(a(!1),e.seamless!==!0&&(d(!1),kt(H),ot(J))),S!==!0&&(v=null)}function a(S){S===!0?s!==!0&&(nt<1&&document.body.classList.add("q-body--dialog"),nt++,s=!0):s===!0&&(nt<2&&document.body.classList.remove("q-body--dialog"),nt--,s=!1)}function b(S){x!==!0&&(D(S),t("click",S))}function _(S){e.persistent!==!0&&e.noBackdropDismiss!==!0?D(S):e.noShake!==!0&&ne()}function H(S){e.allowFocusOutside!==!0&&A.value===!0&&wl(i.value,S.target)!==!0&&re('[tabindex]:not([tabindex="-1"])')}Object.assign(u.proxy,{focus:re,shake:ne,__updateRefocusTarget(S){v=S||null}}),ce(fe);function W(){return V("div",{role:"dialog","aria-modal":E.value===!0?"true":"false",...o,class:le.value},[V(pt,{name:"q-transition--fade",appear:!0},()=>E.value===!0?V("div",{class:"q-dialog__backdrop fixed-full",style:k.value,"aria-hidden":"true",tabindex:-1,onClick:_}):null),V(pt,F.value,()=>r.value===!0?V("div",{ref:i,class:ae.value,style:T.value,tabindex:-1,...N.value},Xe(l.default)):null)])}return $}});let at=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const l=document.createElement("div");Object.assign(l.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(l),e.scrollLeft=-1e3,at=e.scrollLeft>=0,e.remove()}const se=1e3,vo=["start","center","end","start-force","center-force","end-force"],Hl=Array.prototype.filter,mo=window.getComputedStyle(document.body).overflowAnchor===void 0?hl:function(e,l){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const t=e.children||[];Hl.call(t,u=>u.dataset&&u.dataset.qVsAnchor!==void 0).forEach(u=>{delete u.dataset.qVsAnchor});const o=t[l];o&&o.dataset&&(o.dataset.qVsAnchor="")}))};function He(e,l){return e+l}function yt(e,l,t,o,u,i,r,f){const c=e===window?document.scrollingElement||document.documentElement:e,v=u===!0?"offsetWidth":"offsetHeight",s={scrollStart:0,scrollViewSize:-r-f,scrollMaxSize:0,offsetStart:-r,offsetEnd:-f};if(u===!0?(e===window?(s.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,s.scrollViewSize+=document.documentElement.clientWidth):(s.scrollStart=c.scrollLeft,s.scrollViewSize+=c.clientWidth),s.scrollMaxSize=c.scrollWidth,i===!0&&(s.scrollStart=(at===!0?s.scrollMaxSize-s.scrollViewSize:0)-s.scrollStart)):(e===window?(s.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,s.scrollViewSize+=document.documentElement.clientHeight):(s.scrollStart=c.scrollTop,s.scrollViewSize+=c.clientHeight),s.scrollMaxSize=c.scrollHeight),t!==null)for(let x=t.previousElementSibling;x!==null;x=x.previousElementSibling)x.classList.contains("q-virtual-scroll--skip")===!1&&(s.offsetStart+=x[v]);if(o!==null)for(let x=o.nextElementSibling;x!==null;x=x.nextElementSibling)x.classList.contains("q-virtual-scroll--skip")===!1&&(s.offsetEnd+=x[v]);if(l!==e){const x=c.getBoundingClientRect(),p=l.getBoundingClientRect();u===!0?(s.offsetStart+=p.left-x.left,s.offsetEnd-=p.width):(s.offsetStart+=p.top-x.top,s.offsetEnd-=p.height),e!==window&&(s.offsetStart+=s.scrollStart),s.offsetEnd+=s.scrollMaxSize-s.offsetStart}return s}function il(e,l,t,o){l==="end"&&(l=(e===window?document.body:e)[t===!0?"scrollWidth":"scrollHeight"]),e===window?t===!0?(o===!0&&(l=(at===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-l),window.scrollTo(l,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,l):t===!0?(o===!0&&(l=(at===!0?e.scrollWidth-e.offsetWidth:0)-l),e.scrollLeft=l):e.scrollTop=l}function Pe(e,l,t,o){if(t>=o)return 0;const u=l.length,i=Math.floor(t/se),r=Math.floor((o-1)/se)+1;let f=e.slice(i,r).reduce(He,0);return t%se!==0&&(f-=l.slice(i*se,t).reduce(He,0)),o%se!==0&&o!==u&&(f-=l.slice(o,r*se).reduce(He,0)),f}const ho={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},ul={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...ho};function go({virtualScrollLength:e,getVirtualScrollTarget:l,getVirtualScrollEl:t,virtualScrollItemSizeComputed:o}){const u=te(),{props:i,emit:r,proxy:f}=u,{$q:c}=f;let v,s,x,p=[],d;const g=L(0),M=L(0),C=L({}),F=L(null),T=L(null),k=L(null),z=L({from:0,to:0}),O=m(()=>i.tableColspan!==void 0?i.tableColspan:100);o===void 0&&(o=m(()=>i.virtualScrollItemSize));const A=m(()=>o.value+";"+i.virtualScrollHorizontal),$=m(()=>A.value+";"+i.virtualScrollSliceRatioBefore+";"+i.virtualScrollSliceRatioAfter);X($,()=>{G()}),X(A,D);function D(){de(s,!0)}function Q(a){de(a===void 0?s:a)}function Y(a,b){const _=l();if(_==null||_.nodeType===8)return;const H=yt(_,t(),F.value,T.value,i.virtualScrollHorizontal,c.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd);x!==H.scrollViewSize&&G(H.scrollViewSize),E(_,H,Math.min(e.value-1,Math.max(0,parseInt(a,10)||0)),0,vo.indexOf(b)!==-1?b:s!==-1&&a>s?"end":"start")}function ae(){const a=l();if(a==null||a.nodeType===8)return;const b=yt(a,t(),F.value,T.value,i.virtualScrollHorizontal,c.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd),_=e.value-1,H=b.scrollMaxSize-b.offsetStart-b.offsetEnd-M.value;if(v===b.scrollStart)return;if(b.scrollMaxSize<=0){E(a,b,0,0);return}x!==b.scrollViewSize&&G(b.scrollViewSize),N(z.value.from);const W=Math.floor(b.scrollMaxSize-Math.max(b.scrollViewSize,b.offsetEnd)-Math.min(d[_],b.scrollViewSize/2));if(W>0&&Math.ceil(b.scrollStart)>=W){E(a,b,_,b.scrollMaxSize-b.offsetEnd-p.reduce(He,0));return}let S=0,q=b.scrollStart-b.offsetStart,I=q;if(q<=H&&q+b.scrollViewSize>=g.value)q-=g.value,S=z.value.from,I=q;else for(let h=0;q>=p[h]&&S<_;h++)q-=p[h],S+=se;for(;q>0&&S<_;)q-=d[S],q>-b.scrollViewSize?(S++,I=q):I=d[S]+q;E(a,b,S,I)}function E(a,b,_,H,W){const S=typeof W=="string"&&W.indexOf("-force")!==-1,q=S===!0?W.replace("-force",""):W,I=q!==void 0?q:"start";let h=Math.max(0,_-C.value[I]),j=h+C.value.total;j>e.value&&(j=e.value,h=Math.max(0,j-C.value.total)),v=b.scrollStart;const ve=h!==z.value.from||j!==z.value.to;if(ve===!1&&q===void 0){ne(_);return}const{activeElement:qe}=document,me=k.value;ve===!0&&me!==null&&me!==qe&&me.contains(qe)===!0&&(me.addEventListener("focusout",le),setTimeout(()=>{me!==null&&me.removeEventListener("focusout",le)})),mo(me,_-h);const Ye=q!==void 0?d.slice(h,_).reduce(He,0):0;if(ve===!0){const be=j>=z.value.from&&h<=z.value.to?z.value.to:j;z.value={from:h,to:be},g.value=Pe(p,d,0,h),M.value=Pe(p,d,j,e.value),requestAnimationFrame(()=>{z.value.to!==j&&v===b.scrollStart&&(z.value={from:z.value.from,to:j},M.value=Pe(p,d,j,e.value))})}requestAnimationFrame(()=>{if(v!==b.scrollStart)return;ve===!0&&N(h);const be=d.slice(h,_).reduce(He,0),Se=be+b.offsetStart+g.value,Ge=Se+d[_];let Ie=Se+H;if(q!==void 0){const st=be-Ye,Fe=b.scrollStart+st;Ie=S!==!0&&Fe<Se&&Ge<Fe+b.scrollViewSize?Fe:q==="end"?Ge-b.scrollViewSize:Se-(q==="start"?0:Math.round((b.scrollViewSize-d[_])/2))}v=Ie,il(a,Ie,i.virtualScrollHorizontal,c.lang.rtl),ne(_)})}function N(a){const b=k.value;if(b){const _=Hl.call(b.children,h=>h.classList&&h.classList.contains("q-virtual-scroll--skip")===!1),H=_.length,W=i.virtualScrollHorizontal===!0?h=>h.getBoundingClientRect().width:h=>h.offsetHeight;let S=a,q,I;for(let h=0;h<H;){for(q=W(_[h]),h++;h<H&&_[h].classList.contains("q-virtual-scroll--with-prev")===!0;)q+=W(_[h]),h++;I=q-d[S],I!==0&&(d[S]+=I,p[Math.floor(S/se)]+=I),S++}}}function le(){k.value!==null&&k.value!==void 0&&k.value.focus()}function de(a,b){const _=1*o.value;(b===!0||Array.isArray(d)===!1)&&(d=[]);const H=d.length;d.length=e.value;for(let S=e.value-1;S>=H;S--)d[S]=_;const W=Math.floor((e.value-1)/se);p=[];for(let S=0;S<=W;S++){let q=0;const I=Math.min((S+1)*se,e.value);for(let h=S*se;h<I;h++)q+=d[h];p.push(q)}s=-1,v=void 0,g.value=Pe(p,d,0,z.value.from),M.value=Pe(p,d,z.value.to,e.value),a>=0?(N(z.value.from),Z(()=>{Y(a)})):J()}function G(a){if(a===void 0&&typeof window!="undefined"){const q=l();q!=null&&q.nodeType!==8&&(a=yt(q,t(),F.value,T.value,i.virtualScrollHorizontal,c.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd).scrollViewSize)}x=a;const b=parseFloat(i.virtualScrollSliceRatioBefore)||0,_=parseFloat(i.virtualScrollSliceRatioAfter)||0,H=1+b+_,W=a===void 0||a<=0?1:Math.ceil(a/o.value),S=Math.max(1,W,Math.ceil((i.virtualScrollSliceSize>0?i.virtualScrollSliceSize:10)/H));C.value={total:Math.ceil(S*H),start:Math.ceil(S*b),center:Math.ceil(S*(.5+b)),end:Math.ceil(S*(1+b)),view:W}}function re(a,b){const _=i.virtualScrollHorizontal===!0?"width":"height",H={["--q-virtual-scroll-item-"+_]:o.value+"px"};return[a==="tbody"?V(a,{class:"q-virtual-scroll__padding",key:"before",ref:F},[V("tr",[V("td",{style:{[_]:`${g.value}px`,...H},colspan:O.value})])]):V(a,{class:"q-virtual-scroll__padding",key:"before",ref:F,style:{[_]:`${g.value}px`,...H}}),V(a,{class:"q-virtual-scroll__content",key:"content",ref:k,tabindex:-1},b.flat()),a==="tbody"?V(a,{class:"q-virtual-scroll__padding",key:"after",ref:T},[V("tr",[V("td",{style:{[_]:`${M.value}px`,...H},colspan:O.value})])]):V(a,{class:"q-virtual-scroll__padding",key:"after",ref:T,style:{[_]:`${M.value}px`,...H}})]}function ne(a){s!==a&&(i.onVirtualScroll!==void 0&&r("virtualScroll",{index:a,from:z.value.from,to:z.value.to-1,direction:a<s?"decrease":"increase",ref:f}),s=a)}G();const J=cn(ae,c.platform.is.ios===!0?120:35);dn(()=>{G()});let fe=!1;return Vt(()=>{fe=!0}),fn(()=>{if(fe!==!0)return;const a=l();v!==void 0&&a!==void 0&&a!==null&&a.nodeType!==8?il(a,v,i.virtualScrollHorizontal,c.lang.rtl):Y(s)}),ce(()=>{J.cancel()}),Object.assign(f,{scrollTo:Y,reset:D,refresh:Q}),{virtualScrollSliceRange:z,virtualScrollSliceSizeComputed:C,setVirtualScrollSize:G,onVirtualScrollEvt:J,localResetVirtualScroll:de,padVirtualScroll:re,scrollTo:Y,reset:D,refresh:Q}}function al(e,l,t){if(t<=l)return l;const o=t-l+1;let u=l+(e-l)%o;return u<l&&(u=o+u),u===0?0:u}const rl=e=>["add","add-unique","toggle"].includes(e),bo=".*+?^${}()|[]\\",So=Object.keys(qt);function wt(e,l){if(typeof e=="function")return e;const t=e!==void 0?e:l;return o=>o!==null&&typeof o=="object"&&t in o?o[t]:o}var zo=ue({name:"QSelect",inheritAttrs:!1,props:{...ul,...ml,...qt,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:rl},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:ul.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...cl,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:l,emit:t}){const{proxy:o}=te(),{$q:u}=o,i=L(!1),r=L(!1),f=L(-1),c=L(""),v=L(!1),s=L(!1);let x=null,p=null,d,g,M,C=null,F,T,k,z;const O=L(null),A=L(null),$=L(null),D=L(null),Q=L(null),Y=Zl(e),ae=en(It),E=m(()=>Array.isArray(e.options)?e.options.length:0),N=m(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:le,virtualScrollSliceSizeComputed:de,localResetVirtualScroll:G,padVirtualScroll:re,onVirtualScrollEvt:ne,scrollTo:J,setVirtualScrollSize:fe}=go({virtualScrollLength:E,getVirtualScrollTarget:Rl,getVirtualScrollEl:Ht,virtualScrollItemSizeComputed:N}),a=fl(),b=m(()=>{const n=e.mapOptions===!0&&e.multiple!==!0,y=e.modelValue!==void 0&&(e.modelValue!==null||n===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const w=e.mapOptions===!0&&d!==void 0?d:[],B=y.map(P=>Ol(P,w));return e.modelValue===null&&n===!0?B.filter(P=>P!==null):B}return y}),_=m(()=>{const n={};return So.forEach(y=>{const w=e[y];w!==void 0&&(n[y]=w)}),n}),H=m(()=>e.optionsDark===null?a.isDark.value:e.optionsDark),W=m(()=>Dt(b.value)),S=m(()=>{let n="q-field__input q-placeholder col";return e.hideSelected===!0||b.value.length===0?[n,e.inputClass]:(n+=" q-field__input--padding",e.inputClass===void 0?n:[n,e.inputClass])}),q=m(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),I=m(()=>E.value===0),h=m(()=>b.value.map(n=>ee.value(n)).join(", ")),j=m(()=>e.displayValue!==void 0?e.displayValue:h.value),ve=m(()=>e.optionsHtml===!0?()=>!0:n=>n!=null&&n.html===!0),qe=m(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||b.value.some(ve.value))),me=m(()=>a.focused.value===!0?e.tabindex:-1),Ye=m(()=>{const n={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":i.value===!0?"true":"false","aria-controls":`${a.targetUid.value}_lb`};return f.value>=0&&(n["aria-activedescendant"]=`${a.targetUid.value}_${f.value}`),n}),be=m(()=>({id:`${a.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),Se=m(()=>b.value.map((n,y)=>({index:y,opt:n,html:ve.value(n),selected:!0,removeAtIndex:Fl,toggleOption:ye,tabindex:me.value}))),Ge=m(()=>{if(E.value===0)return[];const{from:n,to:y}=le.value;return e.options.slice(n,y).map((w,B)=>{const P=Ve.value(w)===!0,R=dt(w)===!0,U=n+B,K={clickable:!0,active:R,activeClass:Fe.value,manualFocus:!0,focused:!1,disable:P,tabindex:-1,dense:e.optionsDense,dark:H.value,role:"option","aria-selected":R===!0?"true":"false",id:`${a.targetUid.value}_${U}`,onClick:()=>{ye(w)}};return P!==!0&&(f.value===U&&(K.focused=!0),u.platform.is.desktop===!0&&(K.onMousemove=()=>{i.value===!0&&Ee(U)})),{index:U,opt:w,html:ve.value(w),label:ee.value(w),selected:K.active,focused:K.focused,toggleOption:ye,setOptionIndex:Ee,itemProps:K}})}),Ie=m(()=>e.dropdownIcon!==void 0?e.dropdownIcon:u.iconSet.arrow.dropdown),st=m(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Fe=m(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),he=m(()=>wt(e.optionValue,"value")),ee=m(()=>wt(e.optionLabel,"label")),Ve=m(()=>wt(e.optionDisable,"disable")),Je=m(()=>b.value.map(he.value)),Il=m(()=>{const n={onInput:It,onChange:ae,onKeydown:At,onKeyup:Bt,onKeypress:Lt,onFocus:_t,onClick(y){g===!0&&Le(y)}};return n.onCompositionstart=n.onCompositionupdate=n.onCompositionend=ae,n});X(b,n=>{d=n,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&a.innerLoading.value!==!0&&(r.value!==!0&&i.value!==!0||W.value!==!0)&&(M!==!0&&Be(),(r.value===!0||i.value===!0)&&Te(""))},{immediate:!0}),X(()=>e.fillInput,Be),X(i,ft),X(E,Gl);function Et(n){return e.emitValue===!0?he.value(n):n}function ct(n){if(n!==-1&&n<b.value.length)if(e.multiple===!0){const y=e.modelValue.slice();t("remove",{index:n,value:y.splice(n,1)[0]}),t("update:modelValue",y)}else t("update:modelValue",null)}function Fl(n){ct(n),a.focus()}function Tt(n,y){const w=Et(n);if(e.multiple!==!0){e.fillInput===!0&&Oe(ee.value(n),!0,!0),t("update:modelValue",w);return}if(b.value.length===0){t("add",{index:0,value:w}),t("update:modelValue",e.multiple===!0?[w]:w);return}if(y===!0&&dt(n)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const B=e.modelValue.slice();t("add",{index:B.length,value:w}),B.push(w),t("update:modelValue",B)}function ye(n,y){if(a.editable.value!==!0||n===void 0||Ve.value(n)===!0)return;const w=he.value(n);if(e.multiple!==!0){y!==!0&&(Oe(e.fillInput===!0?ee.value(n):"",!0,!0),we()),A.value!==null&&A.value.focus(),(b.value.length===0||Re(he.value(b.value[0]),w)!==!0)&&t("update:modelValue",e.emitValue===!0?w:n);return}if((g!==!0||v.value===!0)&&a.focus(),_t(),b.value.length===0){const R=e.emitValue===!0?w:n;t("add",{index:0,value:R}),t("update:modelValue",e.multiple===!0?[R]:R);return}const B=e.modelValue.slice(),P=Je.value.findIndex(R=>Re(R,w));if(P!==-1)t("remove",{index:P,value:B.splice(P,1)[0]});else{if(e.maxValues!==void 0&&B.length>=e.maxValues)return;const R=e.emitValue===!0?w:n;t("add",{index:B.length,value:R}),B.push(R)}t("update:modelValue",B)}function Ee(n){if(u.platform.is.desktop!==!0)return;const y=n!==-1&&n<E.value?n:-1;f.value!==y&&(f.value=y)}function Ze(n=1,y){if(i.value===!0){let w=f.value;do w=al(w+n,-1,E.value-1);while(w!==-1&&w!==f.value&&Ve.value(e.options[w])===!0);f.value!==w&&(Ee(w),J(w),y!==!0&&e.useInput===!0&&e.fillInput===!0&&et(w>=0?ee.value(e.options[w]):F,!0))}}function Ol(n,y){const w=B=>Re(he.value(B),n);return e.options.find(w)||y.find(w)||n}function dt(n){const y=he.value(n);return Je.value.find(w=>Re(w,y))!==void 0}function _t(n){e.useInput===!0&&A.value!==null&&(n===void 0||A.value===n.target&&n.target.value===h.value)&&A.value.select()}function zt(n){rt(n,27)===!0&&i.value===!0&&(Le(n),we(),Be()),t("keyup",n)}function Bt(n){const{value:y}=n.target;if(n.keyCode!==void 0){zt(n);return}if(n.target.value="",x!==null&&(clearTimeout(x),x=null),p!==null&&(clearTimeout(p),p=null),Be(),typeof y=="string"&&y.length!==0){const w=y.toLocaleLowerCase(),B=R=>{const U=e.options.find(K=>String(R.value(K)).toLocaleLowerCase()===w);return U===void 0?!1:(b.value.indexOf(U)===-1?ye(U):we(),!0)},P=R=>{B(he)!==!0&&R!==!0&&B(ee)!==!0&&Te(y,!0,()=>P(!0))};P()}else a.clearValue(n)}function Lt(n){t("keypress",n)}function At(n){if(t("keydown",n),hn(n)===!0)return;const y=c.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),w=n.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(f.value!==-1||y===!0);if(n.keyCode===27){We(n);return}if(n.keyCode===9&&w===!1){_e();return}if(n.target===void 0||n.target.id!==a.targetUid.value||a.editable.value!==!0)return;if(n.keyCode===40&&a.innerLoading.value!==!0&&i.value===!1){ie(n),ze();return}if(n.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&c.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?ct(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&t("update:modelValue",null);return}(n.keyCode===35||n.keyCode===36)&&(typeof c.value!="string"||c.value.length===0)&&(ie(n),f.value=-1,Ze(n.keyCode===36?1:-1,e.multiple)),(n.keyCode===33||n.keyCode===34)&&de.value!==void 0&&(ie(n),f.value=Math.max(-1,Math.min(E.value,f.value+(n.keyCode===33?-1:1)*de.value.view)),Ze(n.keyCode===33?1:-1,e.multiple)),(n.keyCode===38||n.keyCode===40)&&(ie(n),Ze(n.keyCode===38?-1:1,e.multiple));const B=E.value;if((k===void 0||z<Date.now())&&(k=""),B>0&&e.useInput!==!0&&n.key!==void 0&&n.key.length===1&&n.altKey===!1&&n.ctrlKey===!1&&n.metaKey===!1&&(n.keyCode!==32||k.length!==0)){i.value!==!0&&ze(n);const P=n.key.toLocaleLowerCase(),R=k.length===1&&k[0]===P;z=Date.now()+1500,R===!1&&(ie(n),k+=P);const U=new RegExp("^"+k.split("").map(vt=>bo.indexOf(vt)!==-1?"\\"+vt:vt).join(".*"),"i");let K=f.value;if(R===!0||K<0||U.test(ee.value(e.options[K]))!==!0)do K=al(K+1,-1,B-1);while(K!==f.value&&(Ve.value(e.options[K])===!0||U.test(ee.value(e.options[K]))!==!0));f.value!==K&&Z(()=>{Ee(K),J(K),K>=0&&e.useInput===!0&&e.fillInput===!0&&et(ee.value(e.options[K]),!0)});return}if(!(n.keyCode!==13&&(n.keyCode!==32||e.useInput===!0||k!=="")&&(n.keyCode!==9||w===!1))){if(n.keyCode!==9&&ie(n),f.value!==-1&&f.value<B){ye(e.options[f.value]);return}if(y===!0){const P=(R,U)=>{if(U){if(rl(U)!==!0)return}else U=e.newValueMode;if(Oe("",e.multiple!==!0,!0),R==null)return;(U==="toggle"?ye:Tt)(R,U==="add-unique"),e.multiple!==!0&&(A.value!==null&&A.value.focus(),we())};if(e.onNewValue!==void 0?t("newValue",c.value,P):P(c.value),e.multiple!==!0)return}i.value===!0?_e():a.innerLoading.value!==!0&&ze()}}function Ht(){return g===!0?Q.value:$.value!==null&&$.value.contentEl!==null?$.value.contentEl:void 0}function Rl(){return Ht()}function $l(){return e.hideSelected===!0?[]:l["selected-item"]!==void 0?Se.value.map(n=>l["selected-item"](n)).slice():l.selected!==void 0?[].concat(l.selected()):e.useChips===!0?Se.value.map((n,y)=>V(En,{key:"option-"+y,removable:a.editable.value===!0&&Ve.value(n.opt)!==!0,dense:!0,textColor:e.color,tabindex:me.value,onRemove(){n.removeAtIndex(y)}},()=>V("span",{class:"ellipsis",[n.html===!0?"innerHTML":"textContent"]:ee.value(n.opt)}))):[V("span",{[qe.value===!0?"innerHTML":"textContent"]:j.value})]}function Mt(){if(I.value===!0)return l["no-option"]!==void 0?l["no-option"]({inputValue:c.value}):void 0;const n=l.option!==void 0?l.option:w=>V(Tn,{key:w.index,...w.itemProps},()=>V(_n,()=>V(zn,()=>V("span",{[w.html===!0?"innerHTML":"textContent"]:w.label}))));let y=re("div",Ge.value.map(n));return l["before-options"]!==void 0&&(y=l["before-options"]().concat(y)),Sl(l["after-options"],y)}function Pl(n,y){const w=y===!0?{...Ye.value,...a.splitAttrs.attributes.value}:void 0,B={ref:y===!0?A:void 0,key:"i_t",class:S.value,style:e.inputStyle,value:c.value!==void 0?c.value:"",type:"search",...w,id:y===!0?a.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":n===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...Il.value};return n!==!0&&g===!0&&(Array.isArray(B.class)===!0?B.class=[...B.class,"no-pointer-events"]:B.class+=" no-pointer-events"),V("input",B)}function It(n){x!==null&&(clearTimeout(x),x=null),p!==null&&(clearTimeout(p),p=null),!(n&&n.target&&n.target.qComposing===!0)&&(et(n.target.value||""),M=!0,F=c.value,a.focused.value!==!0&&(g!==!0||v.value===!0)&&a.focus(),e.onFilter!==void 0&&(x=setTimeout(()=>{x=null,Te(c.value)},e.inputDebounce)))}function et(n,y){c.value!==n&&(c.value=n,y===!0||e.inputDebounce===0||e.inputDebounce==="0"?t("inputValue",n):p=setTimeout(()=>{p=null,t("inputValue",n)},e.inputDebounce))}function Oe(n,y,w){M=w!==!0,e.useInput===!0&&(et(n,!0),(y===!0||w!==!0)&&(F=n),y!==!0&&Te(n))}function Te(n,y,w){if(e.onFilter===void 0||y!==!0&&a.focused.value!==!0)return;a.innerLoading.value===!0?t("filterAbort"):(a.innerLoading.value=!0,s.value=!0),n!==""&&e.multiple!==!0&&b.value.length!==0&&M!==!0&&n===ee.value(b.value[0])&&(n="");const B=setTimeout(()=>{i.value===!0&&(i.value=!1)},10);C!==null&&clearTimeout(C),C=B,t("filter",n,(P,R)=>{(y===!0||a.focused.value===!0)&&C===B&&(clearTimeout(C),typeof P=="function"&&P(),s.value=!1,Z(()=>{a.innerLoading.value=!1,a.editable.value===!0&&(y===!0?i.value===!0&&we():i.value===!0?ft(!0):i.value=!0),typeof R=="function"&&Z(()=>{R(o)}),typeof w=="function"&&Z(()=>{w(o)})}))},()=>{a.focused.value===!0&&C===B&&(clearTimeout(C),a.innerLoading.value=!1,s.value=!1),i.value===!0&&(i.value=!1)})}function Dl(){return V(oo,{ref:$,class:q.value,style:e.popupContentStyle,modelValue:i.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&I.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:H.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:st.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...be.value,onScrollPassive:ne,onBeforeShow:Ot,onBeforeHide:Wl,onShow:jl},Mt)}function Wl(n){Rt(n),_e()}function jl(){fe()}function Kl(n){Le(n),A.value!==null&&A.value.focus(),v.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Nl(n){Le(n),Z(()=>{v.value=!1})}function Ql(){const n=[V(qn,{class:`col-auto ${a.fieldClass.value}`,..._.value,for:a.targetUid.value,dark:H.value,square:!0,loading:s.value,itemAligned:!1,filled:!0,stackLabel:c.value.length!==0,...a.splitAttrs.listeners.value,onFocus:Kl,onBlur:Nl},{...l,rawControl:()=>a.getControl(!0),before:void 0,after:void 0})];return i.value===!0&&n.push(V("div",{ref:Q,class:q.value+" scroll",style:e.popupContentStyle,...be.value,onClick:We,onScrollPassive:ne},Mt())),V(fo,{ref:D,modelValue:r.value,position:e.useInput===!0?"top":void 0,transitionShow:T,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:Ot,onBeforeHide:Ul,onHide:Xl,onShow:Yl},()=>V("div",{class:"q-select__dialog"+(H.value===!0?" q-select__dialog--dark q-dark":"")+(v.value===!0?" q-select__dialog--focused":"")},n))}function Ul(n){Rt(n),D.value!==null&&D.value.__updateRefocusTarget(a.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),a.focused.value=!1}function Xl(n){we(),a.focused.value===!1&&t("blur",n),Be()}function Yl(){const n=document.activeElement;(n===null||n.id!==a.targetUid.value)&&A.value!==null&&A.value!==n&&A.value.focus(),fe()}function _e(){r.value!==!0&&(f.value=-1,i.value===!0&&(i.value=!1),a.focused.value===!1&&(C!==null&&(clearTimeout(C),C=null),a.innerLoading.value===!0&&(t("filterAbort"),a.innerLoading.value=!1,s.value=!1)))}function ze(n){a.editable.value===!0&&(g===!0?(a.onControlFocusin(n),r.value=!0,Z(()=>{a.focus()})):a.focus(),e.onFilter!==void 0?Te(c.value):(I.value!==!0||l["no-option"]!==void 0)&&(i.value=!0))}function we(){r.value=!1,_e()}function Be(){e.useInput===!0&&Oe(e.multiple!==!0&&e.fillInput===!0&&b.value.length!==0&&ee.value(b.value[0])||"",!0,!0)}function ft(n){let y=-1;if(n===!0){if(b.value.length!==0){const w=he.value(b.value[0]);y=e.options.findIndex(B=>Re(he.value(B),w))}G(y)}Ee(y)}function Gl(n,y){i.value===!0&&a.innerLoading.value===!1&&(G(-1,!0),Z(()=>{i.value===!0&&a.innerLoading.value===!1&&(n>y?G():ft(!0))}))}function Ft(){r.value===!1&&$.value!==null&&$.value.updatePosition()}function Ot(n){n!==void 0&&Le(n),t("popupShow",n),a.hasPopupOpen=!0,a.onControlFocusin(n)}function Rt(n){n!==void 0&&Le(n),t("popupHide",n),a.hasPopupOpen=!1,a.onControlFocusout(n)}function $t(){g=u.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?l["no-option"]!==void 0||e.onFilter!==void 0||I.value===!1:!0),T=u.platform.is.ios===!0&&g===!0&&e.useInput===!0?"fade":e.transitionShow}return vn($t),mn(Ft),$t(),ce(()=>{x!==null&&clearTimeout(x),p!==null&&clearTimeout(p)}),Object.assign(o,{showPopup:ze,hidePopup:we,removeAtIndex:ct,add:Tt,toggleOption:ye,getOptionIndex:()=>f.value,setOptionIndex:Ee,moveOptionSelection:Ze,filter:Te,updateMenuPosition:Ft,updateInputValue:Oe,isOptionSelected:dt,getEmittingOptionValue:Et,isOptionDisabled:(...n)=>Ve.value.apply(null,n)===!0,getOptionValue:(...n)=>he.value.apply(null,n),getOptionLabel:(...n)=>ee.value.apply(null,n)}),Object.assign(a,{innerValue:b,fieldClass:m(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:O,targetRef:A,hasValue:W,showPopup:ze,floatingLabel:m(()=>e.hideSelected!==!0&&W.value===!0||typeof c.value=="number"||c.value.length!==0||Dt(e.displayValue)),getControlChild:()=>{if(a.editable.value!==!1&&(r.value===!0||I.value!==!0||l["no-option"]!==void 0))return g===!0?Ql():Dl();a.hasPopupOpen===!0&&(a.hasPopupOpen=!1)},controlEvents:{onFocusin(n){a.onControlFocusin(n)},onFocusout(n){a.onControlFocusout(n,()=>{Be(),_e()})},onClick(n){if(We(n),g!==!0&&i.value===!0){_e(),A.value!==null&&A.value.focus();return}ze(n)}},getControl:n=>{const y=$l(),w=n===!0||r.value!==!0||g!==!0;if(e.useInput===!0)y.push(Pl(n,w));else if(a.editable.value===!0){const P=w===!0?Ye.value:void 0;y.push(V("input",{ref:w===!0?A:void 0,key:"d_t",class:"q-select__focus-target",id:w===!0?a.targetUid.value:void 0,value:j.value,readonly:!0,"data-autofocus":n===!0||e.autofocus===!0||void 0,...P,onKeydown:At,onKeyup:zt,onKeypress:Lt})),w===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&y.push(V("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Bt}))}if(Y.value!==void 0&&e.disable!==!0&&Je.value.length!==0){const P=Je.value.map(R=>V("option",{value:R,selected:!0}));y.push(V("select",{class:"hidden",name:Y.value,multiple:e.multiple},P))}const B=e.useInput===!0||w!==!0?void 0:a.splitAttrs.attributes.value;return V("div",{class:"q-field__native row items-center",...B,...a.splitAttrs.listeners.value},y)},getInnerAppend:()=>e.loading!==!0&&s.value!==!0&&e.hideDropdownIcon!==!0?[V(je,{class:"q-select__dropdown-icon"+(i.value===!0?" rotate-180":""),name:Ie.value})]:null}),dl(a)}});const yo={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},xt={xs:2,sm:4,md:8,lg:16,xl:24};var Bo=ue({name:"QSeparator",props:{...Qe,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const l=te(),t=Ue(e,l.proxy.$q),o=m(()=>e.vertical===!0?"vertical":"horizontal"),u=m(()=>` q-separator--${o.value}`),i=m(()=>e.inset!==!1?`${u.value}-${yo[e.inset]}`:""),r=m(()=>`q-separator${u.value}${i.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(t.value===!0?" q-separator--dark":"")),f=m(()=>{const c={};if(e.size!==void 0&&(c[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const v=e.spaced===!0?`${xt.md}px`:e.spaced in xt?`${xt[e.spaced]}px`:e.spaced,s=e.vertical===!0?["Left","Right"]:["Top","Bottom"];c[`margin${s[0]}`]=c[`margin${s[1]}`]=v}return c});return()=>V("hr",{class:r.value,style:f.value,"aria-orientation":o.value})}});function wo(){const e=L(!gn.value);return e.value===!1&&Ne(()=>{e.value=!0}),{isHydrated:e}}const Ml=typeof ResizeObserver!="undefined",sl=Ml===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var Lo=ue({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:l}){let t=null,o,u={width:-1,height:-1};function i(c){c===!0||e.debounce===0||e.debounce==="0"?r():t===null&&(t=setTimeout(r,e.debounce))}function r(){if(t!==null&&(clearTimeout(t),t=null),o){const{offsetWidth:c,offsetHeight:v}=o;(c!==u.width||v!==u.height)&&(u={width:c,height:v},l("resize",u))}}const{proxy:f}=te();if(f.trigger=i,Ml===!0){let c;const v=s=>{o=f.$el.parentNode,o?(c=new ResizeObserver(i),c.observe(o),r()):s!==!0&&Z(()=>{v(!0)})};return Ne(()=>{v()}),ce(()=>{t!==null&&clearTimeout(t),c!==void 0&&(c.disconnect!==void 0?c.disconnect():o&&c.unobserve(o))}),hl}else{let s=function(){t!==null&&(clearTimeout(t),t=null),v!==void 0&&(v.removeEventListener!==void 0&&v.removeEventListener("resize",i,oe.passive),v=void 0)},x=function(){s(),o&&o.contentDocument&&(v=o.contentDocument.defaultView,v.addEventListener("resize",i,oe.passive),r())};const{isHydrated:c}=wo();let v;return Ne(()=>{Z(()=>{o=f.$el,o&&x()})}),ce(s),()=>{if(c.value===!0)return V("object",{class:"q--avoid-card-border",style:sl.style,tabindex:-1,type:"text/html",data:sl.url,"aria-hidden":"true",onLoad:x})}}}});function xo(e,l){const t=L(null),o=m(()=>e.disable===!0?null:V("span",{ref:t,class:"no-outline",tabindex:-1}));function u(i){const r=l.value;i!==void 0&&i.type.indexOf("key")===0?r!==null&&document.activeElement!==r&&r.contains(document.activeElement)===!0&&r.focus():t.value!==null&&(i===void 0||r!==null&&r.contains(i.target)===!0)&&t.value.focus()}return{refocusTargetEl:o,refocusTarget:u}}var po={xs:30,sm:35,md:40,lg:50,xl:60};const ko={...Qe,...gl,...ml,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},Co=["update:modelValue"];function qo(e,l){const{props:t,slots:o,emit:u,proxy:i}=te(),{$q:r}=i,f=Ue(t,r),c=L(null),{refocusTargetEl:v,refocusTarget:s}=xo(t,c),x=bl(t,po),p=m(()=>t.val!==void 0&&Array.isArray(t.modelValue)),d=m(()=>{const E=Ae(t.val);return p.value===!0?t.modelValue.findIndex(N=>Ae(N)===E):-1}),g=m(()=>p.value===!0?d.value!==-1:Ae(t.modelValue)===Ae(t.trueValue)),M=m(()=>p.value===!0?d.value===-1:Ae(t.modelValue)===Ae(t.falseValue)),C=m(()=>g.value===!1&&M.value===!1),F=m(()=>t.disable===!0?-1:t.tabindex||0),T=m(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(t.disable===!0?" disabled":"")+(f.value===!0?` q-${e}--dark`:"")+(t.dense===!0?` q-${e}--dense`:"")+(t.leftLabel===!0?" reverse":"")),k=m(()=>{const E=g.value===!0?"truthy":M.value===!0?"falsy":"indet",N=t.color!==void 0&&(t.keepColor===!0||(e==="toggle"?g.value===!0:M.value!==!0))?` text-${t.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${E}${N}`}),z=m(()=>{const E={type:"checkbox"};return t.name!==void 0&&Object.assign(E,{".checked":g.value,"^checked":g.value===!0?"checked":void 0,name:t.name,value:p.value===!0?t.val:t.trueValue}),E}),O=tn(z),A=m(()=>{const E={tabindex:F.value,role:e==="toggle"?"switch":"checkbox","aria-label":t.label,"aria-checked":C.value===!0?"mixed":g.value===!0?"true":"false"};return t.disable===!0&&(E["aria-disabled"]="true"),E});function $(E){E!==void 0&&(ie(E),s(E)),t.disable!==!0&&u("update:modelValue",D(),E)}function D(){if(p.value===!0){if(g.value===!0){const E=t.modelValue.slice();return E.splice(d.value,1),E}return t.modelValue.concat([t.val])}if(g.value===!0){if(t.toggleOrder!=="ft"||t.toggleIndeterminate===!1)return t.falseValue}else if(M.value===!0){if(t.toggleOrder==="ft"||t.toggleIndeterminate===!1)return t.trueValue}else return t.toggleOrder!=="ft"?t.trueValue:t.falseValue;return t.indeterminateValue}function Q(E){(E.keyCode===13||E.keyCode===32)&&ie(E)}function Y(E){(E.keyCode===13||E.keyCode===32)&&$(E)}const ae=l(g,C);return Object.assign(i,{toggle:$}),()=>{const E=ae();t.disable!==!0&&O(E,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const N=[V("div",{class:k.value,style:x.value,"aria-hidden":"true"},E)];v.value!==null&&N.push(v.value);const le=t.label!==void 0?Sl(o.default,[t.label]):Xe(o.default);return le!==void 0&&N.push(V("div",{class:`q-${e}__label q-anchor--skip`},le)),V("div",{ref:c,class:T.value,...A.value,onClick:$,onKeydown:Q,onKeyup:Y},N)}}var Ao=ue({name:"QToggle",props:{...ko,icon:String,iconColor:String},emits:Co,setup(e){function l(t,o){const u=m(()=>(t.value===!0?e.checkedIcon:o.value===!0?e.indeterminateIcon:e.uncheckedIcon)||e.icon),i=m(()=>t.value===!0?e.iconColor:null);return()=>[V("div",{class:"q-toggle__track"}),V("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},u.value!==void 0?[V(je,{name:u.value,color:i.value})]:void 0)]}return qo("toggle",l)}});export{Lo as Q,Nn as a,Qn as b,Un as c,Ao as d,zo as e,Bo as f,Kn as g,Tl as h,Bn as i,xl as j,pl as k,kl as l,Tn as m,zn as n,_n as o,at as r,Wn as s,El as u};
